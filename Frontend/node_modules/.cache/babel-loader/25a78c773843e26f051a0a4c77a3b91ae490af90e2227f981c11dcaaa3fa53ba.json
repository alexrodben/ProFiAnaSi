{"ast":null,"code":"/* eslint-disable react/jsx-no-comment-textnodes */import React,{useEffect,useState}from\"react\";import\"./../Page.css\";import{IonBackButton,IonButton,IonCard,IonCol,IonIcon,IonInput,IonItem,IonLabel,IonList,IonListHeader,IonRow,useIonToast}from\"@ionic/react\";import{IonButtons,IonContent,IonHeader,IonTitle,IonToolbar,useIonAlert}from\"@ionic/react\";import{checkmark,close,trash}from\"ionicons/icons\";import{editUserData,removeUserData}from\"./UserApi\";import{useHistory}from\"react-router\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";const UsersEdit=_ref=>{let{item}=_ref;const[user,setUser]=useState({});const[present]=useIonToast();const[presentAlert]=useIonAlert();const history=useHistory();const edit=async()=>{if(user.id_usuario&&user.username&&user.password&&user.firstname&&user.lastname){const newUser={id_usuario:user.id_usuario,username:user.username,password:user.password,firstname:user.firstname,lastname:user.lastname};let edit=await editUserData(newUser);if(edit)history.push(\"/users\");}else{present({message:\"No has llenado todos los datos\",duration:1000,position:\"middle\",icon:close});}};const remove=async()=>{presentAlert({header:\"Alert!\",message:\"¿Estás seguro de que deseas eliminar este usuario?\",buttons:[{text:\"Cancelar\",role:\"cancel\"},{text:\"Eliminar\",role:\"confirm\",handler:async()=>{let id_usuario=item.id_usuario;let del=await removeUserData(id_usuario);if(del)history.push(\"/users\");}}]});};useEffect(()=>{setUser(item);},[item]);return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(IonHeader,{children:/*#__PURE__*/_jsxs(IonToolbar,{children:[/*#__PURE__*/_jsx(IonButtons,{slot:\"start\",children:/*#__PURE__*/_jsx(IonBackButton,{})}),/*#__PURE__*/_jsxs(IonTitle,{children:[user.firstname,\" \",user.lastname]})]})}),/*#__PURE__*/_jsx(IonContent,{fullscreen:true,children:/*#__PURE__*/_jsx(IonCard,{children:/*#__PURE__*/_jsxs(IonList,{inset:true,children:[/*#__PURE__*/_jsx(IonListHeader,{color:\"warning\",children:/*#__PURE__*/_jsx(IonLabel,{children:\"Modificar o visualizar un usuario\"})}),/*#__PURE__*/_jsx(IonRow,{children:/*#__PURE__*/_jsx(IonCol,{children:/*#__PURE__*/_jsxs(IonItem,{children:[/*#__PURE__*/_jsx(IonLabel,{position:\"floating\",children:\"Username\"}),/*#__PURE__*/_jsx(IonInput,{onIonChange:e=>user.username=e.detail.value,placeholder:\"Username\",value:user.username,required:true})]})})}),/*#__PURE__*/_jsx(IonRow,{children:/*#__PURE__*/_jsx(IonCol,{children:/*#__PURE__*/_jsxs(IonItem,{children:[/*#__PURE__*/_jsx(IonLabel,{position:\"floating\",children:\"Password\"}),/*#__PURE__*/_jsx(IonInput,{onIonChange:e=>user.password=e.detail.value,placeholder:\"Password\",value:user.password,required:true})]})})}),/*#__PURE__*/_jsx(IonRow,{children:/*#__PURE__*/_jsx(IonCol,{children:/*#__PURE__*/_jsxs(IonItem,{children:[/*#__PURE__*/_jsx(IonLabel,{position:\"floating\",children:\"Nombre\"}),/*#__PURE__*/_jsx(IonInput,{onIonChange:e=>user.firstname=e.detail.value,placeholder:\"Nombre\",value:user.firstname,required:true})]})})}),/*#__PURE__*/_jsx(IonRow,{children:/*#__PURE__*/_jsx(IonCol,{children:/*#__PURE__*/_jsxs(IonItem,{children:[/*#__PURE__*/_jsx(IonLabel,{position:\"floating\",children:\"Apellido\"}),/*#__PURE__*/_jsx(IonInput,{onIonChange:e=>user.lastname=e.detail.value,placeholder:\"Apellido\",value:user.lastname,required:true})]})})}),/*#__PURE__*/_jsxs(IonRow,{children:[/*#__PURE__*/_jsx(IonCol,{size:\"6\",children:/*#__PURE__*/_jsx(IonItem,{children:/*#__PURE__*/_jsxs(IonButton,{onClick:edit,color:\"warning\",fill:\"solid\",slot:\"end\",size:\"default\",children:[/*#__PURE__*/_jsx(IonIcon,{icon:checkmark}),\" Modificar\"]})})}),/*#__PURE__*/_jsx(IonCol,{size:\"6\",children:/*#__PURE__*/_jsx(IonItem,{children:/*#__PURE__*/_jsxs(IonButton,{onClick:remove,color:\"danger\",fill:\"outline\",slot:\"end\",size:\"default\",children:[/*#__PURE__*/_jsx(IonIcon,{icon:trash}),\" Eliminar\"]})})})]})]})})})]});};export default UsersEdit;","map":{"version":3,"names":["React","useEffect","useState","IonBackButton","IonButton","IonCard","IonCol","IonIcon","IonInput","IonItem","IonLabel","IonList","IonListHeader","IonRow","useIonToast","IonButtons","IonContent","IonHeader","IonTitle","IonToolbar","useIonAlert","checkmark","close","trash","editUserData","removeUserData","useHistory","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","UsersEdit","_ref","item","user","setUser","present","presentAlert","history","edit","id_usuario","username","password","firstname","lastname","newUser","push","message","duration","position","icon","remove","header","buttons","text","role","handler","del","children","slot","fullscreen","inset","color","onIonChange","e","detail","value","placeholder","required","size","onClick","fill"],"sources":["D:/alexr/Documents/UMG/ANALISIS DE SISTEMAS I/proyectoFinalAnalisis/Frontend/src/pages/users/UserEdit.tsx"],"sourcesContent":["/* eslint-disable react/jsx-no-comment-textnodes */\r\nimport React, { useEffect, useState } from \"react\";\r\nimport \"./../Page.css\";\r\n\r\nimport {\r\n  IonBackButton,\r\n  IonButton,\r\n  IonCard,\r\n  IonCol,\r\n  IonIcon,\r\n  IonInput,\r\n  IonItem,\r\n  IonLabel,\r\n  IonList,\r\n  IonListHeader,\r\n  IonRow,\r\n  useIonToast,\r\n} from \"@ionic/react\";\r\nimport { IonButtons, IonContent, IonHeader, IonTitle, IonToolbar, useIonAlert } from \"@ionic/react\";\r\nimport { checkmark, close, trash } from \"ionicons/icons\";\r\nimport { userFormat } from \"./UserFormat\";\r\nimport { editUserData, removeUserData } from \"./UserApi\";\r\nimport { useHistory } from \"react-router\";\r\n\r\ninterface ContainerProps {\r\n  item: userFormat;\r\n}\r\n\r\nconst UsersEdit: React.FC<ContainerProps> = ({ item }) => {\r\n  const [user, setUser] = useState<userFormat>({} as userFormat);\r\n  const [present] = useIonToast();\r\n  const [presentAlert] = useIonAlert();\r\n  const history = useHistory();\r\n\r\n  const edit = async () => {\r\n    if (\r\n      user.id_usuario &&\r\n      user.username &&\r\n      user.password &&\r\n      user.firstname &&\r\n      user.lastname\r\n    ) {\r\n      const newUser: userFormat = {\r\n        id_usuario: user.id_usuario,\r\n        username: user.username,\r\n        password: user.password,\r\n        firstname: user.firstname,\r\n        lastname: user.lastname,\r\n      };\r\n      let edit = await editUserData(newUser);\r\n      if (edit) history.push(\"/users\");\r\n    } else {\r\n      present({\r\n        message: \"No has llenado todos los datos\",\r\n        duration: 1000,\r\n        position: \"middle\",\r\n        icon: close,\r\n      });\r\n    }\r\n  };\r\n\r\n  const remove = async () => {\r\n    presentAlert({\r\n      header: \"Alert!\",\r\n      message: \"¿Estás seguro de que deseas eliminar este usuario?\",\r\n      buttons: [\r\n        {\r\n          text: \"Cancelar\",\r\n          role: \"cancel\",\r\n        },\r\n        {\r\n          text: \"Eliminar\",\r\n          role: \"confirm\",\r\n          handler: async () => {\r\n            let id_usuario = item.id_usuario;\r\n            let del = await removeUserData(id_usuario);\r\n            if (del) history.push(\"/users\");\r\n          },\r\n        },\r\n      ],\r\n    });\r\n  };\r\n\r\n  useEffect(() => {\r\n    setUser(item);\r\n  }, [item]);\r\n\r\n  return (\r\n    <>\r\n      <IonHeader>\r\n        <IonToolbar>\r\n          <IonButtons slot=\"start\">\r\n            <IonBackButton></IonBackButton>\r\n          </IonButtons>\r\n          <IonTitle>{user.firstname} {user.lastname}</IonTitle>\r\n        </IonToolbar>\r\n      </IonHeader>\r\n\r\n      <IonContent fullscreen>\r\n        <IonCard>\r\n          <IonList inset={true}>\r\n            <IonListHeader color={\"warning\"}>\r\n              <IonLabel>Modificar o visualizar un usuario</IonLabel>\r\n            </IonListHeader>\r\n            <IonRow>\r\n              <IonCol>\r\n                <IonItem>\r\n                  <IonLabel position=\"floating\">Username</IonLabel>\r\n                  <IonInput\r\n                    onIonChange={(e) => (user.username = e.detail.value!)}\r\n                    placeholder=\"Username\"\r\n                    value={user.username}\r\n                    required\r\n                  ></IonInput>\r\n                </IonItem>\r\n              </IonCol>\r\n            </IonRow>\r\n            <IonRow>\r\n              <IonCol>\r\n                <IonItem>\r\n                  <IonLabel position=\"floating\">Password</IonLabel>\r\n                  <IonInput\r\n                    onIonChange={(e) => (user.password = e.detail.value!)}\r\n                    placeholder=\"Password\"\r\n                    value={user.password}\r\n                    required\r\n                  ></IonInput>\r\n                </IonItem>\r\n              </IonCol>\r\n            </IonRow>\r\n            <IonRow>\r\n              <IonCol>\r\n                <IonItem>\r\n                  <IonLabel position=\"floating\">Nombre</IonLabel>\r\n                  <IonInput\r\n                    onIonChange={(e) => (user.firstname = e.detail.value!)}\r\n                    placeholder=\"Nombre\"\r\n                    value={user.firstname}\r\n                    required\r\n                  ></IonInput>\r\n                </IonItem>\r\n              </IonCol>\r\n            </IonRow>\r\n            <IonRow>\r\n              <IonCol>\r\n                <IonItem>\r\n                  <IonLabel position=\"floating\">Apellido</IonLabel>\r\n                  <IonInput\r\n                    onIonChange={(e) => (user.lastname = e.detail.value!)}\r\n                    placeholder=\"Apellido\"\r\n                    value={user.lastname}\r\n                    required\r\n                  ></IonInput>\r\n                </IonItem>\r\n              </IonCol>\r\n            </IonRow>\r\n            <IonRow>\r\n              <IonCol size=\"6\">\r\n                <IonItem>\r\n                  <IonButton onClick={edit} color={\"warning\"} fill=\"solid\" slot=\"end\" size=\"default\">\r\n                    <IonIcon icon={checkmark} /> Modificar\r\n                  </IonButton>\r\n                </IonItem>\r\n              </IonCol>\r\n              <IonCol size=\"6\">\r\n                <IonItem>\r\n                  <IonButton onClick={remove} color={\"danger\"} fill=\"outline\" slot=\"end\" size=\"default\">\r\n                    <IonIcon icon={trash} /> Eliminar\r\n                  </IonButton>\r\n                </IonItem>\r\n              </IonCol>\r\n            </IonRow>\r\n          </IonList>\r\n        </IonCard>\r\n      </IonContent>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default UsersEdit;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}