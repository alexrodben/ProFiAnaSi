{"ast":null,"code":"import{IonButtons,IonCard,IonContent,IonHeader,IonLabel,IonList,IonListHeader,IonLoading,IonMenuButton,IonPage,IonTitle,IonToolbar}from\"@ionic/react\";import{searchProductData}from\"./product/ProductApi\";import React,{useEffect,useState}from'react';import{Chart,CategoryScale,LinearScale,BarController,BarElement}from'chart.js';import{Bar}from'react-chartjs-2';import\"./Page.css\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";const Page=()=>{const[productData,setProductData]=useState([]);const[showLoading,setShowLoading]=useState(false);useEffect(()=>{searchProducts();},[]);const searchProducts=async()=>{setShowLoading(true);try{const productList=await searchProductData();setProductData(productList);}catch(error){console.error('Error al obtener los productos:',error);}finally{setShowLoading(false);}};// Registrando las escalas necesarias\nChart.register(CategoryScale,LinearScale,BarController,BarElement);// Obtener los datos para el gráfico\nconst chartData={labels:productData.map(product=>product.Nombre),datasets:[{label:'Stock',data:productData.map(product=>parseInt(product.Stock)),// Convertir el stock a tipo number\nbackgroundColor:'rgba(75, 192, 192, 0.6)'}]};// Configuración del gráfico\nconst chartOptions={scales:{y:{beginAtZero:true}}};return/*#__PURE__*/_jsxs(IonPage,{children:[/*#__PURE__*/_jsx(IonHeader,{children:/*#__PURE__*/_jsxs(IonToolbar,{children:[/*#__PURE__*/_jsx(IonButtons,{slot:\"start\",children:/*#__PURE__*/_jsx(IonMenuButton,{})}),/*#__PURE__*/_jsx(IonTitle,{children:\"Tablero\"})]})}),/*#__PURE__*/_jsxs(IonContent,{fullscreen:true,children:[/*#__PURE__*/_jsx(IonLoading,{isOpen:showLoading,onDidDismiss:()=>setShowLoading(false),message:'Cargando datos. Espere por favor...'}),/*#__PURE__*/_jsxs(IonCard,{children:[/*#__PURE__*/_jsx(IonTitle,{children:\"Grafica de productos\"}),/*#__PURE__*/_jsxs(IonList,{inset:true,children:[/*#__PURE__*/_jsx(IonListHeader,{color:\"primary\",children:/*#__PURE__*/_jsx(IonLabel,{children:\"Listado de Ventas\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"chart-container\",children:/*#__PURE__*/_jsx(Bar,{data:chartData,options:chartOptions})})]})]})]})]});};export default Page;","map":{"version":3,"names":["IonButtons","IonCard","IonContent","IonHeader","IonLabel","IonList","IonListHeader","IonLoading","IonMenuButton","IonPage","IonTitle","IonToolbar","searchProductData","React","useEffect","useState","Chart","CategoryScale","LinearScale","BarController","BarElement","Bar","jsx","_jsx","jsxs","_jsxs","Page","productData","setProductData","showLoading","setShowLoading","searchProducts","productList","error","console","register","chartData","labels","map","product","Nombre","datasets","label","data","parseInt","Stock","backgroundColor","chartOptions","scales","y","beginAtZero","children","slot","fullscreen","isOpen","onDidDismiss","message","inset","color","className","options"],"sources":["D:/alexr/Documents/UMG/ANALISIS DE SISTEMAS I/proyectoFinalAnalisis/Frontend/src/pages/Page.tsx"],"sourcesContent":["import { IonButtons, IonCard, IonContent, IonHeader, IonLabel, IonList, IonListHeader, IonLoading, IonMenuButton, IonPage, IonTitle, IonToolbar } from \"@ionic/react\";\r\nimport { searchProductData } from \"./product/ProductApi\";\r\nimport { productFormat } from \"./product/ProductFormat\";\r\nimport React, { useEffect, useState } from 'react';\r\nimport { Chart, CategoryScale, LinearScale, BarController, BarElement } from 'chart.js';\r\nimport { Bar } from 'react-chartjs-2';\r\nimport \"./Page.css\";\r\n\r\ninterface ChartProps {\r\n  products: productFormat[];\r\n}\r\n\r\nconst Page: React.FC<ChartProps> = () => {\r\n\r\n  const [productData, setProductData] = useState<productFormat[]>([]);\r\n  const [showLoading, setShowLoading] = useState(false);\r\n\r\n  useEffect(() => {\r\n    searchProducts();\r\n  }, []);\r\n\r\n  const searchProducts = async () => {\r\n    setShowLoading(true);\r\n    try {\r\n      const productList = await searchProductData();\r\n      setProductData(productList);\r\n    } catch (error) {\r\n      console.error('Error al obtener los productos:', error);\r\n    } finally {\r\n      setShowLoading(false);\r\n    }\r\n  };\r\n\r\n  // Registrando las escalas necesarias\r\n  Chart.register(CategoryScale, LinearScale, BarController, BarElement);\r\n\r\n  // Obtener los datos para el gráfico\r\n  const chartData = {\r\n    labels: productData.map((product) => product.Nombre),\r\n    datasets: [\r\n      {\r\n        label: 'Stock',\r\n        data: productData.map((product) => parseInt(product.Stock)), // Convertir el stock a tipo number\r\n        backgroundColor: 'rgba(75, 192, 192, 0.6)',\r\n      },\r\n    ],\r\n  }\r\n  // Configuración del gráfico\r\n  const chartOptions = {\r\n    scales: {\r\n      y: {\r\n        beginAtZero: true,\r\n      },\r\n    },\r\n  };\r\n\r\n  return (\r\n    <IonPage>\r\n      <IonHeader>\r\n        <IonToolbar>\r\n          <IonButtons slot=\"start\">\r\n            <IonMenuButton />\r\n          </IonButtons>\r\n          <IonTitle>Tablero</IonTitle>\r\n        </IonToolbar>\r\n      </IonHeader>\r\n\r\n      <IonContent fullscreen>\r\n        <IonLoading\r\n          isOpen={showLoading}\r\n          onDidDismiss={() => setShowLoading(false)}\r\n          message={'Cargando datos. Espere por favor...'}\r\n        />\r\n        <IonCard>\r\n          <IonTitle>Grafica de productos</IonTitle>\r\n          <IonList inset={true}>\r\n            <IonListHeader color=\"primary\">\r\n              <IonLabel>Listado de Ventas</IonLabel>\r\n            </IonListHeader>\r\n\r\n            <div className=\"chart-container\">\r\n              <Bar data={chartData} options={chartOptions} />\r\n            </div>\r\n          </IonList>\r\n        </IonCard>\r\n      </IonContent>\r\n    </IonPage>\r\n  );\r\n};\r\n\r\nexport default Page;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}